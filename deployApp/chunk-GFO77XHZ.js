import{a as N,b as W,c as O,d as u,f as h}from"./chunk-P7TCD263.js";import{Aa as a,Ba as M,Ca as E,Da as B,Fa as b,Ga as s,Ha as P,Ia as S,N as f,Oa as D,P as x,Qa as j,V as y,W as g,X as T,Y as k,Za as L,ha as c,ia as $,ma as m,na as V,pa as _,ra as F,sa as I,ta as n,ua as o,va as C,wa as Q,xa as v,ya as d}from"./chunk-X474HETQ.js";var w=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-cart-empty"]],standalone:!0,features:[b],decls:11,vars:0,consts:[[1,"flex","flex-col","justify-center","items-center","my-6","space-y-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-shopping-cart","size-14"],["cx","8","cy","21","r","1"],["cx","19","cy","21","r","1"],["d","M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"],["routerLink","/"]],template:function(e,p){e&1&&(n(0,"div",0),T(),n(1,"svg",1),C(2,"circle",2)(3,"circle",3)(4,"path",4),o(),k(),n(5,"h2"),a(6,"Panier"),o(),n(7,"p"),a(8," Votre panier est vide. "),n(9,"a",5),a(10,"Choisir des produits ?"),o()()())},dependencies:[L]})};var U=(t,i)=>i.id;function z(t,i){if(t&1&&(n(0,"span",0),a(1),o()),t&2){let e=i;c(),B(" (",e," ",e===1?"produit":"produits",") ")}}function G(t,i){if(t&1){let e=Q();n(0,"li",2)(1,"div",4)(2,"h3",5),a(3),o(),n(4,"p",6),a(5),s(6,"currency"),o()(),n(7,"div",7)(8,"button",8),v("click",function(){let r=y(e).$implicit,l=d(3);return g(l.removeProduct(r))}),a(9," - "),o(),n(10,"input",9),v("change",function(r){let l=y(e).$implicit,A=d(3);return g(A.updateQuantity(l,r))}),o(),n(11,"button",8),v("click",function(){let r=y(e).$implicit,l=d(3);return g(l.addProduct(r))}),a(12," + "),o()()()}if(t&2){let e=i.$implicit;c(3),M(e.title),c(2),E(" ",S(6,3,e.priceCents/100,"EUR")," "),c(5),V("value",e.quantity)}}function J(t,i){t&1&&(n(0,"div",3),a(1),s(2,"currency"),o()),t&2&&(c(),E(" Total : ",S(2,1,i/100,"EUR")," "))}function K(t,i){if(t&1&&(n(0,"h2"),a(1," Panier "),m(2,z,2,2,"span",0),s(3,"async"),o(),n(4,"ul",1),F(5,G,13,6,"li",2,U),o(),m(7,J,3,4,"div",3),s(8,"async")),t&2){let e,p,r=d(),l=d();c(2),_((e=P(3,2,l.productsCount$))?2:-1,e),c(3),I(r),c(2),_((p=P(8,4,l.totalPriceCents$))?7:-1,p)}}function X(t,i){t&1&&C(0,"app-cart-empty")}function Y(t,i){t&1&&m(0,K,9,6)(1,X,1,0,"app-cart-empty"),t&2&&_(i.length>0?0:1)}function Z(t,i){t&1&&C(0,"app-cart-empty")}var R=class t{constructor(i){this.store=i}products$=f(u).select(h.getProducts);productsCount$=f(u).select(h.getProductsCount);totalPriceCents$=f(u).select(h.getTotalPriceCents);addProduct(i){this.store.dispatch(new N(i))}removeProduct(i){this.store.dispatch(new W(i))}updateQuantity(i,e){let r=e.target.valueAsNumber;this.store.dispatch(new O(i,r))}static \u0275fac=function(e){return new(e||t)($(u))};static \u0275cmp=x({type:t,selectors:[["app-cart-page"]],standalone:!0,features:[b],decls:3,vars:3,consts:[[1,"text-sm","text-gray-darker"],[1,"space-y-4","my-10"],[1,"flex","justify-between","items-center","border-b","pb-4"],[1,"my-6","text-right","text-xl","font-semibold"],[1,"flex-1","space-y-1"],[1,"text-lg","font-semibold"],[1,"text-gray-500"],[1,"flex","items-center","gap-2"],["type","button",1,"w-8","text-lg","font-semibold","px-2","py-1","bg-gray-200","rounded","hover:bg-gray-300",3,"click"],["type","number","min","0","step","1",1,"w-16","p-1","border","rounded","text-center",3,"change","value"]],template:function(e,p){if(e&1&&(m(0,Y,2,1),s(1,"async"),m(2,Z,1,0,"app-cart-empty")),e&2){let r;_((r=P(1,1,p.products$))?0:2,r)}},dependencies:[w,D,j]})};export{R as CartPageComponent};
